\section{Discussion}\label{sec:discussion}

In \autoref{pt:tests} all the requirements were tested to see if they can be approved. It is seen that out the 24 stated requirements, 14 is approved, five is partially approved and five is not approved. 
The five requirements that are partially approved are all related to the missing user interface. The user interface was not implemented due to the time limit of the project and the fact that it was chosen to make the implementation of the effects the main focus of the project. The five partially approved requirements are categorized as such, because it is possible to change the required parameters, but only through changing them directly in the program. The first requirement that is not approved is \autoref{req:SNR}. This requirement is not approved because the necessary measurements, to be able to approve the requirement, have not been made. This also due the time limit of the project. One of the measurements that could be made to test the requirement, is a test similar to the test in \autoref{app:test:snr}, where an effect is running on the \gls{dsp}, but with no input signal. The output of this test would then be compared to the same test, but with the maximum input. Then the relation between these outputs would give a picture of the \gls{snr} of the complete system.
The second requirement that is not approved is \autoref{req:power2}, where the reason is that the \gls{dsp} powered by a \SI{5}{\volt} USB 2.0 supply. Since the supply voltage that is now used is smaller than the stated \SI{9}{\volt}, this requirement can be approved if a \SI{9}{\volt} supply is used to make a \SI{5}{\volt} supply for the \gls{dsp}.
The third and fourth requirement that are not approved are \autoref{req:flanger1} and \autoref{req:chorus1}. The reason of this is that the implemented \gls{cordic} algorithm is not able to produce sine waves with lower frequencies than \SI{0.4}{\hertz}, because with 32-bit precision sine and cosine values for frequencies less than \SI{0.4}{\hertz} can not be represented. A solution to this would therefore be to use a higher bit precision.
The fifth requirement that is not approved is \autoref{req:preamp3}, because the measured output impedance of the preamp is measured to \SI{9.06}{\kilo\ohm}, which should be smaller than \SI{2}{\kilo\ohm}. The result of the measurement is questionable because the output impedance of an \gls{opamp} normally lies around \SI{50}{\ohm} to \SI{200}{\ohm}. \\

Some choices than were made in the development of the project can be discussed. One of them is the decision of implementing all the effects entirely in assembly. The reason behind the decision was to make the effects run as fast as possible, to get familiar with the assembly language, and to get a better understanding of the \gls{dsp}. It is seen in \autoref{app:effect_run_time}, that each effect uses approximately one tenth of the sampling period to complete its program. This indicates that it might have been possible to implement parts of effects in the slower, but faster implementable language C. This approach might have left time for e.g. implementing the user interface. 
Another discussion is if the resolution of the calculations in the effects should be increased from 16- to 32-bits. This will improve the sound quality of the effects. It was seen in the development of the \gls{cordic} calculations that increasing the precision, made it possible to to produce sine waves of lower frequencies. The resolution could of course always be a parameter that could be improved, but the noticeable difference from going from 16- to 32-bits, might be larger going from 32- to 64-bits.It also has to be taking into account that higher resolution would require more memory.  
A subject for discussion is the approach for developing the effects e.g. the \gls{reverb} effect. In this case it was chosen a Moorer \gls{reverb} unit. The reason of this decision was to have some guidelines for developing a \gls{reverb} effect. When looking back it might have been beneficial to design the effect without relying as much on a reference. This might have improved the possibility  of making the effect sound as intended. \\

For further development several steps could be made towards improving the product. One of them is the user interface, which would not only make it possible to approve more of the requirements, but also make the final product more usable. One would for example not have stop and reprogram the \gls{dsp} to change effect, or even to just change one parameter in an effect. 
Further developments could also be finishing the implemented effects such as implementing the attenuating part of the equalizer or making the \gls{cordic} algorithm able to produce more frequencies to finish the chorus effect. 
A parameter that could also be investigated more is the noise the system. To begin with the \gls{snr} in the system could be measured and if it was observed that this is a problem, then improvements in the different effects could be made to increase the \gls{snr}.